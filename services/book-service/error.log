{"level":"error","message":"Error while creating book Cannot read properties of undefined (reading 'userId')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:23:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-04-25T08:27:20.331Z"}
{"level":"error","message":"Error while creating book Cannot read properties of undefined (reading 'userId')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:25:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-04-25T08:28:38.764Z"}
{"level":"error","message":"Error while creating book Cannot read properties of undefined (reading 'userId')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:25:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-04-25T08:29:16.934Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:33:19.888Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:36:40.952Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:37:55.800Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:41:17.019Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:41:52.373Z"}
{"level":"error","message":"Unknown Error while uploading file.. Multipart: Boundary not found","service":"book-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:11:5\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/authmiddleware.js:18:5)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-29T07:46:03.439Z"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"coverImage","level":"error","message":"Unexpected field","name":"MulterError","service":"book-service","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:564:12)","storageErrors":[],"timestamp":"2025-04-29T07:47:02.040Z"}
{"level":"error","message":"Error while creating book Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:13:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:12:10)","timestamp":"2025-04-29T07:51:05.004Z"}
{"level":"error","message":"Error while creating book Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:13:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:12:10)","timestamp":"2025-04-29T07:52:11.753Z"}
{"level":"error","message":"Error while creating book Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:13:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:12:10)","timestamp":"2025-04-29T07:54:40.530Z"}
{"level":"error","message":"Error while creating book Must supply cloud_name","service":"book-service","stack":"Error: Must supply cloud_name\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1095:22\n    at Object.api_url (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1104:29)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:476:23)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:13:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:12:10)","timestamp":"2025-04-29T07:56:48.526Z"}
{"level":"error","message":"Error while creating book user is not defined","service":"book-service","stack":"ReferenceError: user is not defined\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:44:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-29T07:59:28.115Z"}
{"level":"error","message":"Error while creating book user is not defined","service":"book-service","stack":"ReferenceError: user is not defined\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:44:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-29T08:01:35.861Z"}
{"level":"error","message":"Error while creating book user is not defined","service":"book-service","stack":"ReferenceError: user is not defined\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:44:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-29T08:03:02.419Z"}
{"level":"error","message":"No file found..","service":"book-service","timestamp":"2025-05-01T09:43:28.823Z"}
{"level":"error","message":"Error while deleting book book.remove is not a function","service":"book-service","stack":"TypeError: book.remove is not a function\n    at deleteBookById (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:148:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-01T10:45:55.095Z"}
{"level":"error","message":"Error while creating writer Cannot apply rules to empty ruleset or the last rule added does not support rule properties","service":"book-service","stack":"Error: Cannot apply rules to empty ruleset or the last rule added does not support rule properties\n    at new module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\@hapi\\hoek\\lib\\error.js:23:19)\n    at module.exports (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\@hapi\\hoek\\lib\\assert.js:21:11)\n    at internals.Base.rule (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\joi\\lib\\base.js:479:9)\n    at internals.Base.method [as message] (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\joi\\lib\\extend.js:145:29)\n    at writerValidationSchema (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/validation.js:41:6)\n    at becomeWriter (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/writerController.js:12:25)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:81:7\n    at done (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)","timestamp":"2025-05-05T13:59:57.080Z"}
{"level":"error","message":"Error while creating writer uploadonCloudinay is not defined","service":"book-service","stack":"ReferenceError: uploadonCloudinay is not defined\n    at becomeWriter (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/writerController.js:35:34)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/routes/bookRoutes.js:81:7\n    at done (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)\n    at indicateDone (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:51:68)\n    at Multipart.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\multer\\lib\\make-middleware.js:168:7)\n    at Multipart.emit (node:events:518:28)\n    at emitCloseNT (node:internal/streams/destroy:147:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-05-05T14:07:45.282Z"}
{"level":"error","message":"Error while creating writer Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:15:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:14:10)","timestamp":"2025-05-05T14:08:31.878Z"}
{"level":"error","message":"something went wrong during DB connection The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"book-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\mongoose.js:450:15)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/server.js:16:11\n    at ModuleJob.run (node:internal/modules/esm/module_job:218:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:329:24)\n    at async loadESM (node:internal/process/esm_loader:28:7)\n    at async handleMainPromise (node:internal/modules/run_main:113:12)","timestamp":"2025-05-05T14:13:35.631Z"}
{"level":"error","message":"something went wrong during DB connection The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"book-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\mongoose.js:450:15)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/server.js:16:11\n    at ModuleJob.run (node:internal/modules/esm/module_job:218:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:329:24)\n    at async loadESM (node:internal/process/esm_loader:28:7)\n    at async handleMainPromise (node:internal/modules/run_main:113:12)","timestamp":"2025-05-05T14:13:36.749Z"}
{"level":"error","message":"something went wrong during DB connection The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"book-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\mongoose.js:450:15)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/server.js:16:11\n    at ModuleJob.run (node:internal/modules/esm/module_job:218:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:329:24)\n    at async loadESM (node:internal/process/esm_loader:28:7)\n    at async handleMainPromise (node:internal/modules/run_main:113:12)","timestamp":"2025-05-05T14:13:38.141Z"}
{"level":"error","message":"something went wrong during DB connection The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"book-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\mongoose.js:450:15)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/server.js:16:11\n    at ModuleJob.run (node:internal/modules/esm/module_job:218:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:329:24)\n    at async loadESM (node:internal/process/esm_loader:28:7)\n    at async handleMainPromise (node:internal/modules/run_main:113:12)","timestamp":"2025-05-05T14:13:43.940Z"}
{"level":"error","message":"something went wrong during DB connection The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"book-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\mongoose.js:450:15)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/server.js:16:11\n    at ModuleJob.run (node:internal/modules/esm/module_job:218:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:329:24)\n    at async loadESM (node:internal/process/esm_loader:28:7)\n    at async handleMainPromise (node:internal/modules/run_main:113:12)","timestamp":"2025-05-05T14:13:46.475Z"}
{"level":"error","message":"Error while creating writer Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:15:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:14:10)","timestamp":"2025-05-05T14:15:56.146Z"}
{"level":"error","message":"Error while creating writer Must supply api_key","service":"book-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:15:46\n    at new Promise (<anonymous>)\n    at uploadonCloudinay (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/utils/cloudinary.js:14:10)","timestamp":"2025-05-05T14:26:00.682Z"}
{"level":"error","message":"Error in writer middleware Cannot read properties of undefined (reading 'writerAccessToken')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'writerAccessToken')\n    at writerMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/writerMiddleware.js:11:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-05-07T10:21:48.114Z"}
{"level":"error","message":"Error in writer middleware Cannot read properties of undefined (reading 'writerAccessToken')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'writerAccessToken')\n    at writerMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/writerMiddleware.js:14:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-05-07T10:34:36.038Z"}
{"level":"error","message":"Error in writer middleware Cannot read properties of undefined (reading 'writerAccessToken')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading 'writerAccessToken')\n    at writerMiddleware (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/middlewares/writerMiddleware.js:14:31)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-05-07T10:43:41.265Z"}
{"_message":"Writer validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Error while creating writer Writer validation failed: userId: Path `userId` is required.","service":"book-service","stack":"ValidationError: Writer validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\document.js:3351:32)\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\document.js:3112:17\n    at C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-05-08T12:14:34.357Z"}
{"level":"error","message":"No file found..","service":"book-service","timestamp":"2025-05-10T16:48:27.338Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"axios is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:18:51.176Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"axios is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:18:51.432Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"axios is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:20:20.439Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"axios is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:20:20.712Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"createDecipheriv is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:26:21.027Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"createDecipheriv is not defined","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:26:21.325Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:31:54.602Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-11T19:31:54.920Z"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.cluster0.1fsor8r.mongodb.net","level":"error","message":"something went wrong during DB connection querySrv ECONNREFUSED _mongodb._tcp.cluster0.1fsor8r.mongodb.net","service":"book-service","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.1fsor8r.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:275:17)","syscall":"querySrv","timestamp":"2025-05-12T06:16:27.336Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-12T06:17:13.942Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-12T06:17:14.315Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-12T06:17:46.839Z"}
{"bookId":"6820f4cfbe2691283504d344","error":"invalid block type","level":"error","message":"Error decrypting content","service":"book-service","timestamp":"2025-05-12T06:17:47.182Z"}
{"level":"error","message":"Error while creating book Writer is not defined","service":"book-service","stack":"ReferenceError: Writer is not defined\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:66:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-12T07:34:38.832Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error while fetching writer profile getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000000ae"},"maxSetVersion":1,"servers":{"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1972822,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1972822,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1972822,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-dnttwh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"book-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net\n    at Topology.selectServer (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-05-14T11:13:16.282Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error while fetching writer profile getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000000ae"},"maxSetVersion":1,"servers":{"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1992854,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1992854,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1992855,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-dnttwh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"book-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net\n    at Topology.selectServer (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-05-14T11:13:36.274Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error while fetching writer profile getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000000ae"},"maxSetVersion":1,"servers":{"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1997484,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1997483,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1997484,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-dnttwh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"book-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net\n    at Topology.selectServer (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-05-14T11:13:41.153Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error while fetching writer profile getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000000ae"},"maxSetVersion":1,"servers":{"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2017533,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2017532,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2017534,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-dnttwh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"book-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net\n    at Topology.selectServer (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-05-14T11:14:01.170Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error while creating writer getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000000ae"},"maxSetVersion":1,"servers":{"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-00.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2163126,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-01.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2163126,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017":{"$clusterTime":null,"address":"ac-khba4ot-shard-00-02.1fsor8r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2163127,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-dnttwh-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"book-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net\n    at Topology.selectServer (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-05-14T11:16:26.493Z"}
{"error":"getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T11:16:56.322Z"}
{"error":"getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T11:17:16.352Z"}
{"error":"getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T11:17:16.357Z"}
{"error":"getaddrinfo ENOTFOUND ac-khba4ot-shard-00-01.1fsor8r.mongodb.net","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T11:17:16.370Z"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.cluster0.1fsor8r.mongodb.net","level":"error","message":"something went wrong during DB connection querySrv ECONNREFUSED _mongodb._tcp.cluster0.1fsor8r.mongodb.net","service":"book-service","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.1fsor8r.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:275:17)","syscall":"querySrv","timestamp":"2025-05-14T15:10:02.022Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:11:38.859Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:11:43.271Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:11:53.341Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:03.264Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:03.268Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:10.175Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:12:10.177Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:20.222Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:12:20.226Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:12:27.909Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:12:37.951Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:46.476Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:12:47.987Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:12:56.518Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:13:36.708Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:13:46.748Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:13:56.778Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:14:06.813Z"}
{"error":"Operation `writers.find()` buffering timed out after 10000ms","level":"error","message":"Error while retrieving writers","service":"book-service","timestamp":"2025-05-14T15:14:20.057Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:14:23.747Z"}
{"error":"Operation `writers.find()` buffering timed out after 10000ms","level":"error","message":"Error while retrieving writers","service":"book-service","timestamp":"2025-05-14T15:14:30.139Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:14:33.784Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:15:03.055Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:15:13.088Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:15:45.345Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:15:55.388Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:05.348Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:05.353Z"}
{"level":"error","message":"Error while fetching writer profile Operation `writers.findOne()` buffering timed out after 10000ms","service":"book-service","stack":"MongooseError: Operation `writers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\PMLS\\OneDrive\\Desktop\\harof-BE\\services\\book-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2025-05-14T15:16:18.404Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:22.647Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:32.678Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:42.648Z"}
{"error":"Operation `books.find()` buffering timed out after 10000ms","level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T15:16:42.652Z"}
{"error":{},"level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T18:42:49.950Z","writerId":"6824d5c11be00ed4b933c13b"}
{"error":{},"level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T18:42:50.095Z","writerId":"6824d5c11be00ed4b933c13b"}
{"error":{},"level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T18:46:38.226Z","writerId":"6824d5c11be00ed4b933c13b"}
{"error":{},"level":"error","message":"Error while fetching books","service":"book-service","timestamp":"2025-05-14T18:46:38.434Z","writerId":"6824d5c11be00ed4b933c13b"}
{"level":"error","message":"Error while creating book Cannot read properties of undefined (reading '_id')","service":"book-service","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at createBook (file:///C:/Users/PMLS/OneDrive/Desktop/harof-BE/services/book-service/src/controllers/bookController.js:46:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-18T10:24:12.940Z"}
